<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script src="https://freshfork.github.io/p5.EasyCam/p5.easycam.js"></script>
    <link rel="icon" type="image/x-icon" href="assets/5117328.png"/>
    <link rel="stylesheet" type="text/css" href="./css/style3.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-eMNCOe7tC1doHpGoWe/6oMVemdAVTMs2xqW4mwXrXsW0L84Iytr2wi5v2QjrP/xp" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js" integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous"></script>
    <meta charset="utf-8" />
  </head>
  <body>
    <div class="col-md-12" id="contenedor">
      <div class="col-md-8 offset-md-2" id="bloque">
          <script>
            
            var CntrlFrec;

            function setup() {
              let renderer =createCanvas(400, 400, WEBGL);
              renderer.parent("bloque");
              CntrlRot = createSlider(0, PI / 20, 0, 0.01);
              CntrlRot.parent("bloque");
              CntrlRot.position(20, 20, WEBGL);
              createEasyCam();
              document.oncontextmenu = () => false;
              stroke(220);
              CntrlRot.style('position', 'relative');
              renderer.style('border', '15px');
              renderer.style('border-radius', '15px');
            }
            function draw() {
              background(256, 0, 100);
              let p = createVector(0, 0);
              let r = 150;
              let cant = 35;
              let frec = CntrlFrec.value();
              let altura = 15;
              translate(0, 200, -200);
              rotateX(1);

              beginShape(TRIANGLE_STRIP);

              for (let a = 0; a <= TWO_PI+0.1; a = a + TWO_PI / cant) {
                vertex(p.x, p.y);
                vertex(p.x + cos(a) * r, p.y + sin(a) * r);
              }
              endShape();

              for (let i = 0; i <= 30; i = i + 1) {
                beginShape(TRIANGLE_STRIP);

                for (let a = 0; a <= TWO_PI+0.1; a = a + TWO_PI / cant) {
                  let r2 = r * (sin((i * TWO_PI*frec) / 30) * 0.5 + 1);
                  let np = createVector(p.x + cos(a) * r2, p.y + sin(a) * r2);
                  vertex(np.x, np.y, altura * i);

                  let r3 = r * (sin(((i + 1) * TWO_PI*frec) / 30) * 0.5 + 1);
                  let np2 = createVector(p.x + cos(a) * r3, p.y + sin(a) * r3);

                  vertex(np2.x, np2.y, altura * (i + 1));
                }

                endShape();
              }
            }

          </script>
      </div>
      <div class="col-md-8 offset-md-2 texto">
          <p>
            Este ejemplo empiea con cada anillo con un mismo radio
            Pero si mov√©s el control vas a ver como se puede modificar esa informacion. 
            En este caso afectamos esa propiedad( el radio de cada anillo)Con una funcion senoidal. 
            Otra Vez la trigonometria! en este caso nos permite hacer de este objeto algo mucho mas interesante. 
          </p>
      </div>
    </div>
  </body>
</html>
